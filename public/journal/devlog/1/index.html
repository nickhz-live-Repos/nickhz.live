<!DOCTYPE html>

<html>
    <head>
        <base href="../../../" />
        <link rel="shortcut icon" type="image/x-icon" href="./img/nh-cursive-icon.png" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

        <!-- Page properties -->
        <title>Devlog 1 - What Is This Site? - Nick Hernandez</title>

        <!-- Opengraph properties, for giving a site preview if the link is posted anywhere. Makes the link look less sketchy. -->
        <meta property="og:title" content="Devlog 1 - The Beginning of The Site - Nick Hernandez" />
        <meta property="og:description" content="What this site is and how I made it & put it online." />
        <meta property="og:type" content="website" />
        <meta property="og:image" content="https://nickhz.live/img/built-from-scratch.png" />
        <meta property="og:image:alt" content="built from scratch" />
        <meta property="og:url" content="https://nickhz.live/" />
        <meta property="og:site_name" content="The Personal Site of Nick Hernandez" />

        <!-- Style properties -->
        <link href="css/style.css" rel="stylesheet" />
        <style>
            :root {
                --primary-accent: hsl(180, 60%, 50%);
                --secondary-accent: hsl(300, 100%, 80%);
            }

            body {
                font-family: 'Courier New', Courier, monospace;
                background-color: hsl(240, 60%, 10%);
                color: var(--primary-accent);
                text-shadow: 0 0 4px var(--primary-accent);
                font-size: 1.05rem;
            }

            body > header {
                text-align: center;
                font-size: 2.2rem;
                padding-top: 20dvh;
                margin-bottom: 1.5rem;
            }

            body > time {
                display: block;
                font-style: italic;
                text-align: right;
                width: 90%;
                margin: auto;
            }

            main {
                padding-top: 1rem;
                text-align: center;
                width: 90%;
                margin: auto;
            }

            article * {
                max-width: 100%;
            }

            article > * {
                text-align: justify;
            }

            a {
                color: var(--secondary-accent);
                text-shadow: 0 0 2px var(--secondary-accent);
            }

            hr {
                border-color: var(--primary-accent);
            }

            summary > h3 {
                display: inline;
            }

            pre {
                border: 1px solid var(--primary-accent);
            }

            /* #book {

            } */

            footer {
                height: 50dvh;
                padding-top: 22dvh;
                text-align: center;
            }

            #back-link {
                position: absolute;
                left: 1rem;
                top: 1rem;
                font-size: 1.5rem;
            }

            article > details {
                border-bottom: 1px solid var(--primary-accent);
                margin-top: 1.25rem;
                padding-bottom: 1.25rem;
            }

            figcaption {
                font-style: italic;
            }

            @media only screen and (min-width: 768px) {
                main, 
                body > time {
                    width: 60%;
                }

                body > header {
                    font-size: 3rem;
                }

                #back-link {
                    font-size: 2rem;
                }
            }
        </style>
    </head>
    <body>
        <div id="book"></div>

        <header>
            Development Log 1: 
            <br />
            The Beginning of The Site
        </header>

        <time datetime="2025-01-09">January 9, 2025</time>

        <main>
            <img src="./img/built-from-scratch.png" alt="built from scratch" />

            <article>
                <h1 id="what-is-this-site">
                    What is this site?
                </h1>

                <p>
                    This site is a collection of experiments and exercises 
                    meant to act as my own creative canvas, as a learning & 
                    brushing-up experience, as a springboard for my next 
                    projects, and as a personal site that solves personal 
                    problems. Do I want a Web page resume? Well, 
                    <a href="professional/resume/">here it is</a>. Do I want 
                    some easy metrics on my browsing devices to help me 
                    develop for them? Well, I just go to 
                    <a href="./?page=device#device-info-tab">my homepage with 
                    the device info tab open</a>. Do I want to jot down what 
                    I'm making so I don't lose track of the next steps I want 
                    to take? That's what I made <a href="wip">the WIP page</a> 
                    for. 
                </p>

                <p>
                    I don't plan for it all to be so utilitarian at the end of 
                    the day, because I do have an affection for independent & 
                    retro Web design. However, I am creating this development 
                    log to help me document my process & see what I was 
                    thinking when I made things. If anyone else ever reads 
                    this, I hope you can learn from my experiences.
                </p>

                <hr />

                <h1 id="how-i-made-this-site">
                    How I made this site
                </h1>

                <p>
                    I'm writing the rest of this in the form of a guide. It's 
                    been in my plan to document how I made this site, so I'll 
                    be able to just come back to this page if I want do it 
                    again in the future or adapt parts of my process for 
                    something else.
                </p>

                <p>
                    Putting this website live on the Web required my use of 
                    an account on 
                    <a href="https://aws.amazon.com/console/" target="_blank">Amazon 
                    Web Services (AWS)</a>. As a completely optional 
                    preference of mine, I also made the site code 
                    automatically update upon pushing to a code repository on 
                    <a href="https://github.com/" target="_blank">GitHub</a>.
                </p>

                <p>
                    What exactly this guide covers can be inferred from the 
                    titles of the sections below.
                </p>

                <p>
                    USING AMAZON WEB SERVICES REQUIRES A MONTHLY 
                    PAYMENT AFTER THE FIRST YEAR. FOR A SIMPLE STATIC SITE 
                    LIKE THIS ONE, THE PAYMENT WILL BE ON THE ORDER OF 
                    $2-$15 USD PER MONTH IN ADDITION TO THE INITIAL AND 
                    YEARLY RENEWAL PAYMENT MADE FOR THE WEBSITE NAME 
                    REGISTRATION. IF THIS PAYMENT CAN'T BE MADE, THE SITE 
                    MAY BE CREATED BUT MAY WANT TO BE TAKEN DOWN OR MOVED 
                    AFTERWARD.
                </p>

                <details id="creating-the-local-website-files">
                    <summary>
                        <h3>
                            Creating the local website files
                        </h3>
                    </summary>

                    <p>
                        To make the barebones files required for a Web page, I:
                        
                        <ul>
                            <li>
                                created a folder on my computer with a descriptive 
                                name (like "example.com")
                            </li>
                            <li>
                                entered that folder and created a file in the 
                                folder called "index.html"
                            </li>
                            <li>
                                right-clicked that file and selected "open 
                                with..." before selecting a text editor (like 
                                Notepad or Sublime Text or Visual Studio Code) 
                            </li>
                            <li>
                                entered the following into the file:
                            </li>
                        </ul>

                        <pre>
&lt;!DOCTYPE html&gt;

&lt;html&gt;
    &lt;head&gt;
        &lt;link rel="shortcut icon" type="image/x-icon" href="./img/icon.png" /&gt;
        &lt;meta charset="utf-8" /&gt;
        &lt;meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" /&gt;

        &lt;title&gt;Main Page&lt;/title&gt;

        &lt;!-- Opengraph properties, for giving a site preview if the link is posted anywhere. Makes the link look less sketchy. --&gt;
        &lt;meta property="og:title" content="The Main Page" /&gt;
        &lt;meta property="og:description" content="This is my website" /&gt;
        &lt;meta property="og:type" content="website" /&gt;
        &lt;meta property="og:image" content="https://example.com/img/example-image.png" /&gt;
        &lt;meta property="og:image:alt" content="my website image" /&gt;
        &lt;meta property="og:url" content="https://example.com/" /&gt;
        &lt;meta property="og:site_name" content="My website name" /&gt;
        
        &lt;!-- Style properties --&gt;
        &lt;style&gt;
            body {
                margin: 0;
                min-height: 100dvh;
            }

            body > *:first-child {
                margin-top: 0;
            }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;
            My Website
        &lt;/h1&gt;
    &lt;/body&gt;
&lt;/html&gt;

</pre>
                    </p>

                    <p>
                        After saving the file with these contents, I created a 
                        subfolder called "img" and put a 32x32 image in the folder 
                        called "icon.png". After this, I'm done with the most 
                        basic setup of the site's files. I should be able to 
                        open index.html (with a Web browser this time) and see 
                        something like the following:
                    </p>

                    <img src="img/journal/devlog/1/barebones-index.png" alt="barebones index.html file" />

                    <p>
                        This is what will show up on the Web page whenever it's 
                        live on the Web. To add content, there are many 
                        <a href="https://www.w3schools.com/html/default.asp" target="_blank">tutorials</a> 
                        online, from 
                        <a href="https://neocities.org/tutorial/html/1" target="_blank">brief</a> 
                        to 
                        <a href="https://developer.mozilla.org/en-US/docs/Learn_web_development/Getting_started/Your_first_website/Creating_the_content" target="_blank">in-depth</a>, 
                        with which HTML, CSS, and potentially JavaScript. can 
                        be learned. For now, the page justs look like this, 
                        and this document focuses on how I put the site live on 
                        the Web.
                    </p>
                </details>

                <details id="signing-in-to-the-aws-management-console">
                    <summary>
                        <h3>Signing in to the AWS Management Console</h3>
                    </summary>

                    <p>
                        Go to AWS using using the "Sign In to the Console" 
                        button at the upper right of 
                        <a href="https://aws.amazon.com/console/" target="_blank">the 
                        AWS management console</a> page:
                    </p>

                    <img src="img/journal/devlog/1/aws-console-sign-in.png" alt="amazon web services console sign-in button" />

                    <p>
                        On this page, it gives the option to create a new AWS 
                        account, if needed. To sign on to my existing account, 
                        then instead of filling out the login details right away, 
                        I hit the "Sign in using root user email" button:
                    </p>

                    <img src="img/journal/devlog/1/aws-root-user-sign-in.png" alt="amazon web services root user sign-in button" />

                    <p>
                        I select "Root user" from the following screen and follow 
                        the login process. MFA may need to be set up for this, 
                        which should be doable from this page, after entering 
                        login details. I use the mobile "Authenticator" app from 
                        Microsoft.
                    </p>

                    <p>
                        Once logged in, I can go to the top right and select a 
                        default region. I select the region closest to me.
                    </p>

                </details>

                <details id="registering-the-domain-name">
                    <summary>
                        <h3>
                            Registering the website name / domain name with AWS
                        </h3>
                    </summary>

                    <p>
                        THIS SECTION IS NECESSARY TO CHECK IF A WEBSITE NAME 
                        IS AVAILABLE BEFORE ASSIGNING OTHER AWS RESOURCES TO 
                        IT. HOWEVER, HAVING MY OWN WEBSITE NAME REQUIRES A 
                        MONETARY PAYMENT. IF I DO NOT WANT THE SITE TO BE 
                        ACCESSED ON THE WEB BY OTHER PEOPLE OR IF I DON'T HAVE 
                        A PAYMENT ON THE ORDER OF AROUND $15 USD TO PAY TO 
                        AWS, I MAY COMPLETE EVERYTHING IN THIS SECTION THAT 
                        COMES BEFORE HITTING THE "Proceed to checkout" BUTTON. 
                    </p>

                    <p>
                        Logged into the AWS Management Console, I go to the 
                        search bar in the top left and enter "Route 53" before 
                        hitting the favorite star on it and clicking into 
                        it:
                    </p>

                    <img src="img/journal/devlog/1/aws-route-53-search.png" alt="AWS search for Route 53" />

                    <p>
                        I then do to the "Dashboard" option under the top-left 
                        hamburger menu icon.
                    </p>

                    <img src="img/journal/devlog/1/aws-route-53-dashboard-option.png" alt="AWS route 53 dashboard option" />

                    <p>
                        In the "Register domain" box, I enter a website name 
                        to check if it's available. For instance, 
                        "example.com" won't be available, but at the time of 
                        writing, "example-999.com" will be available:
                    </p>

                    <img src="img/journal/devlog/1/aws-route-53-example-999.png" alt="AWS route 53 showing that example-999.com is available" />

                    <p>
                        If the original name I planned for wasn't available, 
                        I can simply change the name of the folder I created 
                        in my local system in the above steps.
                    </p>

                    <p>
                        Once I select the domain name, I hit "Proceed to 
                        checkout," "Next," and enter my information. This 
                        information is required for the domain name registrar 
                        but is then anonymized as long as I keep the "Privacy 
                        protection" checkbox at the bottom selected. I can 
                        just fill out the "Registrant contact" section and 
                        select "Same as registrant contact" for all the 
                        others. After this, it's a regular checkout process 
                        that'll take the payment.
                    </p>

                    <p>
                        After paying for the domain name, the registration 
                        will take some minutes to complete. During this time, 
                        the next steps can be pursued.
                    </p>
                </details>

                <details id="setting-up-aws-static-website-hosting">
                    <summary>
                        <h3>
                            Setting up AWS static website hosting
                        </h3>
                    </summary>

                    <p>
                        In the AWS management console, I go to the same search 
                        bar that was used to find Route 53 and instead type 
                        "S3" and favorite & enter that service:
                    </p>

                    <img src="img/journal/devlog/1/aws-s3-search.png" alt="AWS search for S3" />

                    <p>
                        From here, I make sure the hamburger menu icon in the 
                        top left is selected so I can see the menu that has 
                        "General purpose buckets" as one of its first menu 
                        items:
                    </p>

                    <img src="img/journal/devlog/1/aws-s3-general-purpose-buckets.png" alt="AWS general-purpose buckets link" />

                    <p>
                        After clicking the "General purpose buckets" link, 
                        there's a button saying "Create bucket," which I 
                        click:
                    </p>

                    <img src="img/journal/devlog/1/aws-s3-create-bucket.png" alt="AWS 'create bucket' button" />

                    <p>
                        I create my bucket with these options:
                        <ul>
                            <li>
                                Bucket name: the name of my website (like 
                                "example.com"); IF I COULD NOT PURCHASE A 
                                WEBSITE NAME, I SHOULD NOT GIVE MY BUCKET THE 
                                NAME OF A WEBSITE, AS THIS MAY CAUSE PROBLEMS 
                                LATER
                            </li>
                            <li>
                                Region (if available): some place close to me
                            </li>
                            <li>
                                Uncheck all boxes under "Block Public 
                                Access..." to allow the bucket to be used to 
                                host a website. Also check the box 
                                acknowledging that the bucket may become 
                                public.
                            </li>
                            <li>
                                Under Default encryption > Bucket Key, choose 
                                "Enable"
                            </li>
                            <li>
                                Everything else can be default.
                            </li>
                        </ul>
                    </p>

                    <p>
                        I repeat the above steps, but with the bucket name 
                        beginning with "www." (as in "www.example.com"), to 
                        enable the site to be accessed with or without the 
                        "www." in its name.
                    </p>

                    <p>
                        The page displays the buckets in a list, so I then:
                        <ul>
                            <li>
                                click into the bucket WITHOUT "www." in its 
                                name ("example.com")
                            </li>
                            <li>
                                go to the "Properties" tab
                            </li>
                            <li>
                                scroll to the "Static website hosting" section 
                                and hit its corresponding "Edit" button
                            </li>
                            <li>
                                hit "Enable"
                            </li>
                            <li>
                                choose "Host a static website"
                            </li>
                            <li>
                                enter "index.html" into the "Index document" 
                                box; this box and the optional "Error 
                                document" box both are case sensitive 
                                (creating an error document is left as an 
                                exercise, 
                                <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/website-hosting-custom-domain-walkthrough.html#configure-error-document-root-domain" target="_blank">details 
                                outlined here</a>)
                            </li>
                            <li>
                                save changes
                            </li>
                            <li>
                                go to the "Permissions" tab
                            </li>
                            <li>
                                scroll to the "Bucket policy" section and hit 
                                its corresponding "Edit" button
                            </li>
                            <li>
                                Enter the following into the Bucket policy editor:
                                <pre>
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "PublicReadGetObject",
            "Effect": "Allow",
            "Principal": "*",
            "Action": "s3:GetObject",
            "Resource": "arn:aws:s3:::example.com/*"
        }
    ]
}

</pre>
                            </li>
                            <li>
                                replace "example.com" above with the actual 
                                name of the website
                            </li>
                            <li>
                                save changes
                            </li>
                        </ul>
                    </p>
                </details>

                <details id="putting-the-website-files-on-aws">
                    <summary>
                        <h3>
                            Putting the website files on AWS
                        </h3>
                    </summary>

                    <p>
                        After all of the above setup, I went into the 
                        "Objects" tab of my root domain bucket ("example.com") 
                        and simply dragged the website files from my local 
                        system's folder (also named "example.com") onto that Web 
                        page. Once this is done, the screen should look 
                        something like the below:
                    </p>

                    <img src="img/journal/devlog/1/aws-s3-upload.png" alt="AWS S3 upload interface" />

                    <p>
                        I hit the "Upload" button at the bottom right. After 
                        this, I hit the "Close" button at the top right of the 
                        following page.
                    </p>

                    <p>
                        I go to the "Properties" tab, scroll down to the 
                        "Static website hosting" section, and click the link 
                        that's under the "Bucket website endpoint" text. This 
                        takes me to the web page:
                    </p>

                    <img src="img/journal/devlog/1/aws-s3-default-bucket-site.png" alt="AWS S3 default bucket site" />

                    <p>
                        Notice the address bar. In order to use the Web 
                        address of my choosing, I need to use a website name 
                        I own. Website name ownership can be accomplished 
                        through <a href="./journal/devlog/1/#registering-the-domain-name">the 
                        above section on registering a website name</a>.
                    </p>
                </details>

                <details id="assigning-the-website-name">
                    <summary>
                        <h3>
                            Assigning the website name ("http://example.com/")
                        </h3>
                    </summary>

                    <p>
                        Assuming I purchased the domain name in the above 
                        sections, I head back to Route 53, which should now be 
                        available in a clickable shortcut on the top left if I 
                        favorited it:
                    </p>

                    <img src="img/journal/devlog/1/aws-favorites-s3-route-53.png" alt="AWS S3 & Route 53 in the AWS Management Console favorites bar" />

                    <p>
                        The domain should be registered by now. I follow these steps:
                        <ul>
                            <li>
                                choose "Hosted zones" in the left-hand menu 
                                under the top-left hamburger menu icon
                            </li>
                            <li>
                                choose the name that matches the website
                            </li>
                            <li>
                                hit "Create record"
                            </li>
                            <li>
                                under "Record name," leave the subdomain text 
                                box empty
                            </li>
                            <li>
                                make sure "A" is selected under the "Record 
                                type" field; this will be referred to as an "A 
                                Record" or "Alias Record" in other places
                            </li>
                            <li>
                                make sure the "Alias" switch is selected
                            </li>
                            <li>
                                under "Route traffic to," choose the endpoint 
                                "Alias to S3 website endpoint" along with the 
                                region selected for by bucket
                            </li>
                            <li>
                                click the "Enter S3 endpoint" text box that 
                                appears to select the bucket corresponding to 
                                the website
                            </li>
                            <li>
                                "Routing policy" is Simple routing
                            </li>
                            <li>
                                "Evaluate target health" is "No"
                            </li>
                            <li>
                                hit "Create records"
                            </li>
                        </ul>
                    </p>

                    <p>
                        After 60 seconds, the website should be available 
                        under its given name with HTTP requests 
                        (http://example.com). If the site is not available, 
                        try clearing the browser cache (a quick method to try 
                        could be ctrl+F5, but also try the long way to see if 
                        that works).
                    </p>
                        
                    <details>
                        
                        <summary>
                            CLICK FOR TROUBLESHOOTING IF CACHE CLEARING 
                            DOESN'T WORK
                        </summary>
                        
                        <p>
                            If cache clearing doesn't work, try going into the 
                            website's hosted zone entry in Route 53, opening the 
                            "Hosted zone details" drop-down arrow near the top of 
                            the entry, and comparing the "Name servers" entries, 
                            on the right, against the 4 entries that are in the 
                            "Records" table on the same record, under the 
                            "Value/Route traffic to" column. If there is no such 
                            record, a record of type "NS" must be created with 
                            values matching the name servers of the hosted zone, 
                            plus a period at the end of each (i.e., name server 
                            entry "ns-123.awsdns-99.net" means an NS record value 
                            "ns-123.awsdns-99.net."). If there IS such an entry 
                            but if those entries (besides the last period) don't 
                            match the "Name servers" entries in the hosted zone 
                            details section, select that record (type should be 
                            "NS") using the check box next to the record, hit 
                            "Edit record," and correct the values. If this doesn't 
                            work, the hosted zone may need to be deleted and 
                            re-created.
                        </p>
                    </details>

                    <p>
                        Using HTTPS is not available yet 
                        and will be set up in another step. Additionally, 
                        using www.example.com is not yet valid, either. This 
                        is a subdomain and will be handled in the next step.
                    </p>
                </details>

                <details id="setting-up-the-www-subdomain">
                    <summary>
                        <h3>
                            Setting up the "www." subdomain ("http://www.example.com/")
                        </h3>
                    </summary>

                    <p>
                        I return to S3 and select the website bucket beginning 
                        with "www." that I created earlier.
                        <ul>
                            <li>
                                Go to the "Properties" tab
                            </li>
                            <li>
                                Scroll down to "Static website hosting" and 
                                hit its "Edit" button
                            </li>
                            <li>
                                Hit "Enable"
                            </li>
                            <li>
                                Under "Hosting type," select "Redirect 
                                requests for an object"
                            </li>
                            <li>
                                In the "Host name" box, use the root domain 
                                name of the website (like "example.com")
                            </li>
                            <li>
                                under "Protocol," choose "http"
                            </li>
                            <li>
                                Save changes
                            </li>
                            <li>
                                Check for correctness by scrolling back down 
                                to the "Static website hosting" section and 
                                clicking the link under the "Bucket website 
                                endpoint" text
                            </li>
                        </ul>
                    </p>

                    <p>
                        If clicking the link from the last statement above 
                        leads to the website ("http://example.com"), the next 
                        step is to set up an A record for this bucket in Route 
                        53. I go to Route 53 under Hosted zones and do the 
                        following:
                        <ul>
                            <li>
                                select the hosted zone with my website name
                            </li>
                            <li>
                                hit "Create record"
                            </li>
                            <li>
                                in the "Record name" text box, enter "www"
                            </li>
                            <li>
                                make sure "A" is selected under the "Record 
                                type" field
                            </li>
                            <li>
                                make sure the "Alias" switch is selected
                            </li>
                            <li>
                                under "Route traffic to," select "Alias to 
                                another record in this hosted zone"
                            </li>
                            <li>
                                in the "Choose record" text box that appears, 
                                select the A record of the root domain 
                                ("example.com.")
                            </li>
                            <li>
                                "Routing policy" is Simple routing
                            </li>
                            <li>
                                "Evaluate target health" is "No"
                            </li>
                            <li>
                                hit "Create records"
                            </li>
                        </ul>
                    </p>

                    <p>
                        After 60 seconds, the website should be available 
                        under its subdomain name with HTTP requests 
                        (http://www.example.com will automatically direct to 
                        http://example.com). Using HTTPS is not available yet, 
                        but setup for it may begin now.
                    </p>
                </details>

                <details id="getting-an-ssl-certificate">
                    <summary>
                        <h3>
                            Getting an SSL certificate for HTTPS
                        </h3>
                    </summary>

                    <p>
                        Find "Certificate Manager" in the search bar, hit 
                        favorite, and follow these steps:
                    </p>

                    <ul>
                        <li>
                            Hit the Request button
                        </li>
                        <li>
                            Select "Request a public certificate," hit "Next"
                        </li>
                        <li>
                            In the text box under "Domain names," enter the 
                            root domain name ("example.com")
                        </li>
                        <li>
                            Hit "Add another name to this certificate," and 
                            enter "*." before the root domain to include all 
                            subdomains ("*.example.com")
                        </li>
                        <li>
                            Under "Validation method," select "DNS 
                            validation - recommended"
                        </li>
                        <li>
                            "Key algorithm" is fine using RSA 2048
                        </li>
                        <li>
                            hit "Request"
                        </li>
                        <li>
                            now with the request created, hit "Create records 
                            in Route 53," make sure every entry is selected, 
                            and hit "Create records"
                        </li>
                    </ul>

                    <p>
                        The certificate will be in the "Pending validation" 
                        state for a while after this. For now, basic logging 
                        will be set up for the website.
                    </p>
                </details>

                <details id="setting-up-s3-logging">
                    <summary>
                        <h3>
                            Setting up S3 site logging
                        </h3>
                    </summary>

                    <p>
                        Go back to S3, in the same region where the website 
                        buckets are.
                        <ul>
                            <li>
                                Create bucket
                            </li>
                            <li>
                                Under "Bucket name," choose a name that 
                                describes that it will hold logs for the site; 
                                this does NOT need a website name, it can be 
                                "example-com-logs" for instance.
                            </li>
                            <li>
                                Everything else can be default before hitting 
                                "Create bucket"
                            </li>
                            <li>
                                In the "Objects" tab of the bucket, select 
                                "Create folder" and give it a descriptive 
                                name; I chose the folder naming scheme 
                                "example-com-s3-logs"
                            </li>
                            <li>
                                Go back up to the buckets list
                            </li>
                        </ul>
                    </p>

                    <p>
                        Now that the logs bucket is set up to receive entries, 
                        go into the root-domain bucket ("example.com" / NOT 
                        the logs bucket) and follow these steps:
                        <ul>
                            <li>
                                go the the "Properties" tab
                            </li>
                            <li>
                                scroll down to the "Server access logging" 
                                section, and hit its "Edit" button                                
                            </li>
                            <li>
                                enable
                            </li>
                            <li>
                                next to the "Destination" text box, hit 
                                "Browse S3"
                            </li>
                            <li>
                                click INTO the logs bucket, select the circle 
                                next to the logs folder created above 
                                ("example-com-s3-logs"), and hit "Choose 
                                destination"
                            </li>
                            <li>
                                under "Log object key format," I choose the 
                                second option
                            </li>
                            <li>
                                under "Source of date used in log object key 
                                format," I choose "S3 event time"
                            </li>
                            <li>
                                hit "Save changes"
                            </li>
                        </ul>
                    </p>

                    <p>
                        Logs won't appear immediately, even upon accessing the 
                        site. Now, the SSL certificate in Certificate 
                        Manager may be in "Issued" status, allowing the next 
                        step for HTTPS to occur.
                    </p>
                </details>

                <details id="setting-up-cloudfront">
                    <summary>
                        <h3>
                            Setting up CloudFront for HTTPS
                        </h3>
                    </summary>

                    <p>
                        Go to Certificate Manager and ensure that the 
                        certificate with the domain name has moved from 
                        "Pending validation" to "Issued" status. If it 
                        hasn't, wait a few minutes. If it hasn't moved in an 
                        hour, try the TROUBLESHOOTING dropdown under the 
                        "Assigning the website name ("http://example.com/")" 
                        section above, then try dealing with the certificate 
                        again.
                    </p>

                    <p>
                        Once the SSL certificate is issued, find "CloudFront" 
                        in the search bar, hit favorite, and follow these 
                        steps:
                    </p>

                    <ul>
                        <li>
                            Create a distribution
                        </li>
                        <li>
                            "Origin domain" is the root-domain bucket address 
                            ("example.com.[...].amazonaws.com")
                        </li>
                        <li>
                            If a warning recommends to use the website 
                            endpoint, accept it by clicking "Use website 
                            endpoint," or if there's no warning, ensure that 
                            the origin is the correct root-domain bucket (NOT 
                            www or logs) and that the address is of the scheme 
                            "example.com.s3-website-[...].amazonaws.com" with 
                            the "s3-website-" portion present
                        </li>
                        <li>
                            Under "Default cache behavior" > "Viewer" > 
                            "Viewer protocol policy," select "Redirect HTTP to 
                            HTTPS"
                        </li>
                        <li>
                            Web Application Firewall (WAF) can be disabled for 
                            a fresh site due to its cost, but may want to 
                            enable later in the CloudFront's Security tab.
                        </li>
                        <li>
                            Under "Settings" > "Price class," select "Use only 
                            North America and Europe"
                        </li>
                        <li>
                            Under "Alternate domain name (CNAME) - optional," 
                            add the root domain AND the subdomain (example.com 
                            AND www.example.com)
                        </li>
                        <li>
                            Ensure "Custom SSL certificate - optional" is 
                            populated
                        </li>
                        <li>
                            Enter "index.html" into the "Default root object" 
                            text box
                        </li>
                        <li>
                            Standard logging is optional at the beginning, can 
                            be set now or later; I used S3 (Legacy) initially
                        </li>
                        <li>
                            Hit "Create distribution"
                        </li>
                    </ul>

                    <p>
                        The distribution will initially be in "Deploying" 
                        status. While that completes, version control for the 
                        website's source code can be set up through Git.
                    </p>
                </details>

                <details id="setting-up-git">
                    <summary>
                        <h3>
                            Setting up Git version control (GitHub)
                        </h3>
                    </summary>

                    <p>
                        Sign in to Git, on 
                        <a href="https://github.com/" target="_blank">the 
                        GitHub website</a> and locally. Local sign-in 
                        procedures will vary depending on operating system 
                        & Git software used; more information can be found 
                        online.
                    </p>

                    <p>
                        Create a repo on the GitHub website. The name can 
                        be anything, but I just give it the name of the 
                        website domain or subdomain being held by that 
                        repo ("example.com")
                    </p>

                    <p>
                        For personal projects, I prefer the copyleft 
                        <a href="https://choosealicense.com/licenses/gpl-3.0/" target="_blank">GNU 
                        General Public License v3.0</a>; commercial derivative 
                        projects are allowed, but all derivative projects must 
                        be open source and include the same license.
                    </p>

                    <p>
                        I clone the repo into my local system, then inside 
                        that cloned repo folder, I place a subfolder, which 
                        can be named anything, but for this example, I name it 
                        the "public" the folder. I put the website files in 
                        the public folder, then outside the public folder, in 
                        the root folder of the repo, I make a ".github" 
                        folder. In that folder, I put a "workflows" subfolder. 
                        In that "workflows" subfolder, I put a file called 
                        "main.yml" that will call on a Github action to 
                        connect to AWS S3 and update the files on push. The 
                        content of main.yml is as follows:
                    </p>

                    <pre>
on:
push:
  branches:
  - main

jobs:
deploy:
  runs-on: ubuntu-latest
  steps:
  - name: Checkout
    uses: actions/checkout@v1
  
  - name: Configure AWS Credentials
    uses: aws-actions/configure-aws-credentials@v1
    with:
      aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
      aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
      aws-region: [THE AWS REGION]
  
  - name: [CI JOB NAME]
    run: aws s3 sync ./public/ s3://example.com --delete

</pre>
                
                    <p>
                        The text "[THE AWS REGION]" must be replaced with the AWS 
                        region name (like "us-east-1") of the website S3 bucket, 
                        and "example.com" must be replaced with the actual root 
                        domain name of the S3 bucket. The text "[CI JOB NAME]" 
                        can be changed to whatever is preferred.
                    </p>

                    <p>
                        Add the changes to git, commit it to the repo, and 
                        push it to the origin. This will need to be connected 
                        to AWS through an IAM user and custom security policy. 
                        For now, Cloudfront deployment should be complete.
                    </p>
                </details>

                <details id="directing-route-53-to-https">
                    <summary>
                        <h3>
                            Directing Route 53 to HTTPS 
                            ("https://www.example.com/")
                        </h3>
                    </summary>

                    <p>
                        Go to Route 53 in the AWS Management Console, go to 
                        hosted zones, then go into the zone with the name of 
                        the website.
                        
                        <ul>
                            <li>
                                Check the box next to the A record, which will 
                                be the record with "A" in the "Type" column 
                                and the root domain (like "example.com") in 
                                the "Record name" column
                            </li>
                            <li>
                                In the "Record details" panel that populates 
                                to the right, hit "Edit record"
                            </li>
                            <li>
                                Under "Route traffic to," change the first 
                                selection box to "Alias to CloudFront 
                                distribution"
                            </li>
                            <li>
                                In the "Choose distribution" text box, 
                                clicking it should give the option to fill the 
                                newly deployed CloudFront distribution into 
                                the box; select it
                            </li>
                            <li>
                                Hit "Save"
                            </li>
                        </ul>
                    </p>

                    <p>
                        After 60 seconds, the HTTPS site should be available. 
                        Try visiting the HTTPS site and its subdomain (i.e., 
                        https://example.com and https://www.example.com). Now, 
                        the site should be completely live.
                    </p>

                    <p>
                        Lastly, Git setup will be completed.
                    </p>
                </details>

                <details id="creating-an-aws-iam-user-for-git">
                    <summary>
                        <h3>
                            Creating an AWS IAM user for Git
                        </h3>
                    </summary>

                    <p>
                        In search, look up "IAM" and then favorite & enter the 
                        result. Choose users, either by selecting it on the 
                        left panel that appears when the top left hamburger 
                        menu icon is pressed or by clicking the number under 
                        the "Users" entry under "IAM resources."
                    </p>

                    <ul>
                        <li>
                            Hit "Create user"
                        </li>
                        <li>
                            Give it a descriptive name; I use the schema 
                            "example.com-git-ci-user"
                        </li>
                        <li>
                            Hit "Next"
                        </li>
                        <li>
                            Choose "Attach policies directly"
                        </li>
                        <li>
                            In the "Permissions policies" box, hit the button 
                            in the top right of its box that says "Create 
                            policy"
                        </li>
                        <li>
                            In the new tab that opened under "Select a 
                            service," choose S3, then in the dropdowns that 
                            appear, select:
                            <ul>
                                <li>
                                    List > ListBucket
                                </li>
                                <li>
                                    Write > PutObject
                                </li>
                                <li>
                                    Write > DeleteObject
                                </li>
                            </ul>

                            <figure>
                                <img src="img/journal/devlog/1/aws-iam-git-sync-policy-selection-visual.png" alt="AWS IAM policy selection in Visual mode" />
                                <figcaption>
                                    The page should look something like this 
                                    upon policy selection.
                                </figcaption>
                            </figure>
                        </li>
                        <li>
                            Scroll down to the "Resources" dropdown, and 
                            select "Specific"
                        </li>
                        <li>
                            Next to "bucket," hit "Add ARNs" and input the 
                            root domain name, which is also the name of the S3 
                            bucket that it targets, into the "Resource bucket 
                            name" box; hit "Add ARNs"
                        </li>
                        <li>
                            Next to "object," hit "Add ARNs," input the root 
                            domain name into the "Resource bucket name" box, 
                            select "Any object name" for the "Resource object 
                            name," and hit "Add ARNs"

                            <figure>
                                <img src="img/journal/devlog/1/aws-iam-git-sync-specify-permissions-visual-final.png" alt="AWS IAM's Specify Permissions setup in Visual mode" />
                                <figcaption>
                                    If the "List" & "Write" dropdowns from the last 
                                    section are collapsed, the page should look like 
                                    this.
                                </figcaption>
                            </figure>

                            <figure>
                                <img src="img/journal/devlog/1/aws-iam-git-sync-specify-permissions-json-final.png" alt="AWS IAM's Specify Permissions setup in JSON mode" />
                                <figcaption>
                                    As an additional sanity check, selecting 
                                    "JSON" mode in the top right next to 
                                    "Visual" should give a JSON that looks 
                                    like this.
                                </figcaption>
                            </figure>
                        </li>
                        <li>
                            Hit "Next"
                        </li>
                        <li>
                            In "Policy name," I just reuse the name from 
                            before; "example.com-git-ci-user"
                        </li>
                        <li>
                            Standard description: "Git CI hook used to edit 
                            the code for the example.com site, using Git 
                            version control.
                        </li>
                        <li>
                            Scroll down and hit "Create policy"
                        </li>
                        <li>
                            On the original tab, where permissions were being 
                            set, hit the refresh button next to the "Create 
                            policy" button that opened the other tab; the new 
                            policy should appear in the search here if 
                            refreshed after about a minute.
                        </li>
                        <li>
                            Find the new policy through search, and check the 
                            checkbox next to it
                        </li>
                        <li>
                            Hit "Next"
                        </li>
                        <li>
                            Hit "Create user"
                        </li>
                    </ul>

                    <p>
                        After this, an IAM user for Git actions on the S3 
                        bucket will be created, and Git will be hooked up to 
                        this IAM user in the next & final section.
                    </p>
                </details>

                <details id="connecting-git-to-aws-s3">
                    <summary>
                        <h3>
                            Connecting Git to AWS S3
                        </h3>
                    </summary>

                    <p>
                        In IAM, under Users, go to the user created to connect 
                        to S3.
                    </p>

                    <ul>
                        <li>
                            In the middle on the right side of the "Summary" 
                            box, click the "Create access key" link
                        </li>
                        <li>
                            Select "Command Line Interface (CLI)" and check 
                            the box at the bottom before hitting "Next"
                        </li>
                        <li>
                            Can enter a description or just hit the "Create 
                            access key" button
                        </li>
                        <li>
                            After the access key is created, KEEP THAT PAGE 
                            OPEN IN THE TAB when also opening up Github
                        </li>
                        <li>
                            In Github, in the website repo, go to the 
                            "Settings" tab at the top of the repository
                        </li>
                        <li>
                            Go to "Secrets and variables" > "Actions," and hit 
                            the "New repository secret" button
                        </li>
                        <li>
                            The first key name is "AWS_ACCESS_KEY_ID" like in 
                            the yml file above, and the "Secret" is the text 
                            in the still-open AWS console under the 
                            "Access key" section in the "Access key" column
                        </li>
                        <li>
                            Hit "Add secret," then hit "New repository 
                            secret" again
                        </li>
                        <li>
                            The next secret will have the name 
                            "AWS_SECRET_ACCESS_KEY" and will have the value 
                            from the AWS console that's under the "Access key" 
                            section in the right-side "Secret key" column; 
                            copy & paste it into GitHub before hitting "Add 
                            secret" again
                        </li>
                        <li>
                            Push any update to the Git repository's "main" 
                            branch to run the pipeline from the repo into AWS
                        </li>
                    </ul>
                </details>

                <p>
                    All of that composes how I built and am building this 
                    site, aside from the contents of the HTML, CSS, and 
                    JavaScript. I'll reflect on my use of those frontend 
                    technologies in other journal entries, dedicating this 
                    entry to the setup above.
                </p>

                <hr />

                <h1>
                    Post-script / reflection
                </h1>

                <p>
                    For me, the site's infrastructure is the hard part of 
                    putting it online, and the code is the easy part. For the 
                    code & design of the site, I plan to write about it by 
                    creating a journal entry for each page I've put onto this 
                    site.
                </p>

                <p>
                    The next development logs may be about patterns in how I'm 
                    building things, improvements to my process, things I'm 
                    moving toward, and parts of my projects' creation that 
                    wind up having unexpected depth. Devlogs do sometimes
                    highlight how people solved problems they encountered, and 
                    the problem I had was setting up all the infrastructure & 
                    automation to put this site up in first place.
                </p>
                
                <p>
                    Additionally, in the course of writing this guide, much of 
                    the information didn't come from me reviewing 
                    documentation, but rather it came from me going back 
                    through the settings & configurations for everything, to 
                    reverse engineer how I did it. For instance, I didn't find 
                    which permissions to grant to an IAM user for this 
                    specific purpose anywhere on the Web, so I initially had 
                    to figure the permissions out through experimentation. 
                    Then, for this guide, I had to retrieve these permissions 
                    from my IAM policy setup rather than through any 
                    documentation or guides. To my knowledge, this guide is 
                    the only one on the open Web that composes all of the 
                    information covered.
                </p>

                <p>
                    Re-tracing all my steps and documenting this all after the 
                    fact, it was at least as grueling as figuring a lot of it 
                    out, but hopefully, the step-by-step is gonna save me some 
                    headaches in the future. It could even save headaches for 
                    someone else, too!
                </p>

                <p>
                    That's all for now.
                </p>

                <br />
                <br />

                <i>
                    Sources:
                    <ul>
                        <li>
                            <a href="https://aws.amazon.com/console/" target="_blank">Amazon Web Services (AWS)</a>
                        </li>
                        <li>
                            <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/website-hosting-custom-domain-walkthrough.html" target="blank">Tutorial: Configuring a static website using a custom domain registered with Route 53</a>
                        </li>
                        <li>
                            <a href="https://medium.com/@olayinkasamuel44/how-to-deploy-a-static-website-to-s3-bucket-using-github-actions-ci-script-fa1acc932fbd" target="_blank">How to deploy a static website to s3 bucket using Github actions CI script</a>
                        </li>
                    </ul>
                </i>
            </article>
        </main>

        <footer>
            <a href="./journal/devlog/1/#back-link">[back to top]</a>
        </footer>

        <a href="journal" id="back-link">^ Journal Index</a>
    </body>
</html>
